# ==== Initial actions to set up SIMP's Puppet environment and corresponding data  ====
- CliIsSimpEnvironmentInstalled  SKIPQUERY SILENT: # don't ever prompt, just discover current value
   false:
    - CopySimpToEnvironmentsAction # Can't do our config, if this hasn't happened
- CliSetProductionToSimp:
   true:
    - SetProductionToSimpAction
- SetSiteScenarioAction

# Move the <simp environment datadir>/hosts/puppet.your.domain.yaml template to
# <simp environment datadir>/hosts/<host>.yaml file (as appropriate) before
# dealing with any features that modify that file
- CreateSimpServerFqdnYamlAction
- PuppetDBMasterConfigPuppetDBServer SKIPQUERY SILENT # default is correct
- PuppetDBMasterConfigPuppetDBPort   SKIPQUERY SILENT # default is correct
- SetServerPuppetDBMasterConfigAction
